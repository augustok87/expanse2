function qt(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function R(){}function It(e){return e()}function nt(){return Object.create(null)}function ve(e){e.forEach(It)}function Ot(e){return typeof e=="function"}function fe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Oe;function rt(e,t){return Oe||(Oe=document.createElement("a")),Oe.href=t,e===Oe.href}function Vt(e){return Object.keys(e).length===0}function Ht(e,...t){if(e==null)return R;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Pe(e,t,n){e.$$.on_destroy.push(Ht(t,n))}function Gt(e){return e??""}function O(e,t){e.appendChild(t)}function Y(e,t,n){e.insertBefore(t,n||null)}function H(e){e.parentNode&&e.parentNode.removeChild(e)}function Ye(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function k(e){return document.createElement(e)}function W(e){return document.createTextNode(e)}function J(){return W(" ")}function Le(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function v(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Yt(e){return Array.from(e.childNodes)}function _e(e,t){t=""+t,e.data!==t&&(e.data=t)}function ke(e,t,n){e.classList[n?"add":"remove"](t)}function zt(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}let Ee;function ye(e){Ee=e}function xt(){if(!Ee)throw new Error("Function called outside component initialization");return Ee}function Jt(e){xt().$$.on_mount.push(e)}function Qt(){const e=xt();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=zt(t,n,{cancelable:r});return i.slice().forEach(o=>{o.call(e,s)}),!s.defaultPrevented}return!0}}const ce=[],it=[];let ue=[];const st=[],Xt=Promise.resolve();let ze=!1;function Wt(){ze||(ze=!0,Xt.then(Dt))}function Je(e){ue.push(e)}const $e=new Set;let se=0;function Dt(){if(se!==0)return;const e=Ee;do{try{for(;se<ce.length;){const t=ce[se];se++,ye(t),Zt(t.$$)}}catch(t){throw ce.length=0,se=0,t}for(ye(null),ce.length=0,se=0;it.length;)it.pop()();for(let t=0;t<ue.length;t+=1){const n=ue[t];$e.has(n)||($e.add(n),n())}ue.length=0}while(ce.length);for(;st.length;)st.pop()();ze=!1,$e.clear(),ye(e)}function Zt(e){if(e.fragment!==null){e.update(),ve(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Je)}}function Kt(e){const t=[],n=[];ue.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),ue=t}const De=new Set;let Z;function K(){Z={r:0,c:[],p:Z}}function ee(){Z.r||ve(Z.c),Z=Z.p}function w(e,t){e&&e.i&&(De.delete(e),e.i(t))}function F(e,t,n,r){if(e&&e.o){if(De.has(e))return;De.add(e),Z.c.push(()=>{De.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function de(e){e&&e.c()}function re(e,t,n,r){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),r||Je(()=>{const o=e.$$.on_mount.map(It).filter(Ot);e.$$.on_destroy?e.$$.on_destroy.push(...o):ve(o),e.$$.on_mount=[]}),s.forEach(Je)}function ie(e,t){const n=e.$$;n.fragment!==null&&(Kt(n.after_update),ve(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function en(e,t){e.$$.dirty[0]===-1&&(ce.push(e),Wt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Te(e,t,n,r,i,s,o,a=[-1]){const u=Ee;ye(e);const c=e.$$={fragment:null,ctx:[],props:s,update:R,not_equal:i,bound:nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:nt(),dirty:a,skip_bound:!1,root:t.target||u.$$.root};o&&o(c.root);let f=!1;if(c.ctx=n?n(e,t.props||{},(h,m,...T)=>{const y=T.length?T[0]:m;return c.ctx&&i(c.ctx[h],c.ctx[h]=y)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](y),f&&en(e,h)),m}):[],c.update(),f=!0,ve(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const h=Yt(t.target);c.fragment&&c.fragment.l(h),h.forEach(H)}else c.fragment&&c.fragment.c();t.intro&&w(e.$$.fragment),re(e,t.target,t.anchor,t.customElement),Dt()}ye(u)}class Ne{$destroy(){ie(this,1),this.$destroy=R}$on(t,n){if(!Ot(n))return R;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Vt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Fe=FORGE_DATA.bundle_product_settings,tn=3,nn=()=>"062831afc281be4a6db091b769c4f033",rn=nn(),sn=Shopify.shop,on=Fe.product_bundle_count||tn,Ct=Fe.bundle_collection;if(!Ct)throw"No collection was chosen to bundle from.";const an=Fe.show_total,cn=300,ln=Fe.products_per_page||10,Q={accessToken:rn,storeUrl:sn,bundleCount:on,maxImageWidth:cn,productsPerPage:ln,bundleCollectionHandle:Ct,showTotal:an},oe=[];function un(e,t=R){let n;const r=new Set;function i(a){if(fe(e,a)&&(e=a,n)){const u=!oe.length;for(const c of r)c[1](),oe.push(c,e);if(u){for(let c=0;c<oe.length;c+=2)oe[c][0](oe[c+1]);oe.length=0}}}function s(a){i(a(e))}function o(a,u=R){const c=[a,u];return r.add(c),r.size===1&&(n=t(i)||R),a(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}const fn=e=>{var n;if(!e)return;const t=(n=e.match(/(\d+)$/))==null?void 0:n[0];if(t)return parseInt(t)},dn=/^default\s+title$/i;class wt{constructor(t={}){this.attribs=t}get id(){return this.attribs.id}get shortId(){return fn(this.id)}get availableForSale(){return this.attribs.availableForSale}get title(){const t=this.attribs.main_product_title;return dn.test(this.attribs.title)?t:`${t}: ${this.attribs.title}`}get image(){const t=new URL(this.attribs.image.url);return t.searchParams.append("width",Q.maxImageWidth),t.toString()}get price(){return parseFloat(this.attribs.price.amount)}}const ot="FOUNDRY_BUNDLED_PRODUCTS",hn=(e=[])=>e.map(t=>t.attribs);class pn{save(t=[]){const n=hn(t),r=JSON.stringify(n);window.sessionStorage.setItem(ot,r)}read(){const t=window.sessionStorage.getItem(ot)||"[]";return JSON.parse(t)}load(){return this.read().map(n=>new wt(n))}}const at=new pn;function mn(){const{subscribe:e,set:t}=un([]);return{subscribe:e,set:t,save:(n=[])=>(t(n),at.save(n),n),load:()=>{const n=at.load();t(n)}}}const te=mn(),Ke=JSON,yn=e=>e.toUpperCase(),gn=e=>{const t={};return e.forEach((n,r)=>{t[r]=n}),t},_n=(e,t,n)=>e.document?e:{document:e,variables:t,requestHeaders:n,signal:void 0},En=(e,t,n)=>e.query?e:{query:e,variables:t,requestHeaders:n,signal:void 0},bn=(e,t)=>e.documents?e:{documents:e,requestHeaders:t,signal:void 0},vn=(e,t,...n)=>{const[r,i]=n;return e.document?e:{url:e,document:t,variables:r,requestHeaders:i,signal:void 0}};function Ce(e,t){if(!!!e)throw new Error(t)}function Tn(e){return typeof e=="object"&&e!==null}function Nn(e,t){if(!!!e)throw new Error(t??"Unexpected invariant triggered.")}const An=/\r\n|[\n\r]/g;function Qe(e,t){let n=0,r=1;for(const i of e.body.matchAll(An)){if(typeof i.index=="number"||Nn(!1),i.index>=t)break;n=i.index+i[0].length,r+=1}return{line:r,column:t+1-n}}function In(e){return St(e.source,Qe(e.source,e.start))}function St(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,s=e.locationOffset.line-1,o=t.line+s,a=t.line===1?n:0,u=t.column+a,c=`${e.name}:${o}:${u}
`,f=r.split(/\r\n|[\n\r]/g),h=f[i];if(h.length>120){const m=Math.floor(u/80),T=u%80,y=[];for(let E=0;E<h.length;E+=80)y.push(h.slice(E,E+80));return c+ct([[`${o} |`,y[0]],...y.slice(1,m+1).map(E=>["|",E]),["|","^".padStart(T)],["|",y[m+1]]])}return c+ct([[`${o-1} |`,f[i-1]],[`${o} |`,h],["|","^".padStart(u)],[`${o+1} |`,f[i+1]]])}function ct(e){const t=e.filter(([r,i])=>i!==void 0),n=Math.max(...t.map(([r])=>r.length));return t.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function On(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class et extends Error{constructor(t,...n){var r,i,s;const{nodes:o,source:a,positions:u,path:c,originalError:f,extensions:h}=On(n);super(t),this.name="GraphQLError",this.path=c??void 0,this.originalError=f??void 0,this.nodes=lt(Array.isArray(o)?o:o?[o]:void 0);const m=lt((r=this.nodes)===null||r===void 0?void 0:r.map(y=>y.loc).filter(y=>y!=null));this.source=a??(m==null||(i=m[0])===null||i===void 0?void 0:i.source),this.positions=u??(m==null?void 0:m.map(y=>y.start)),this.locations=u&&a?u.map(y=>Qe(a,y)):m==null?void 0:m.map(y=>Qe(y.source,y.start));const T=Tn(f==null?void 0:f.extensions)?f==null?void 0:f.extensions:void 0;this.extensions=(s=h??T)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),f!=null&&f.stack?Object.defineProperty(this,"stack",{value:f.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,et):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+In(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+St(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function lt(e){return e===void 0||e.length===0?void 0:e}function j(e,t,n){return new et(`Syntax Error: ${n}`,{source:e,positions:[t]})}class xn{constructor(t,n,r){this.start=t.start,this.end=n.end,this.startToken=t,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class kt{constructor(t,n,r,i,s,o){this.kind=t,this.start=n,this.end=r,this.line=i,this.column=s,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const Rt={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Dn=new Set(Object.keys(Rt));function ut(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&Dn.has(t)}var le;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(le||(le={}));var Xe;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Xe||(Xe={}));var b;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(b||(b={}));function We(e){return e===9||e===32}function be(e){return e>=48&&e<=57}function Pt(e){return e>=97&&e<=122||e>=65&&e<=90}function Lt(e){return Pt(e)||e===95}function Cn(e){return Pt(e)||be(e)||e===95}function wn(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let o=0;o<e.length;++o){var s;const a=e[o],u=Sn(a);u!==a.length&&(r=(s=r)!==null&&s!==void 0?s:o,i=o,o!==0&&u<n&&(n=u))}return e.map((o,a)=>a===0?o:o.slice(n)).slice((t=r)!==null&&t!==void 0?t:0,i+1)}function Sn(e){let t=0;for(;t<e.length&&We(e.charCodeAt(t));)++t;return t}function kn(e,t){const n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,s=r.length>1&&r.slice(1).every(T=>T.length===0||We(T.charCodeAt(0))),o=n.endsWith('\\"""'),a=e.endsWith('"')&&!o,u=e.endsWith("\\"),c=a||u,f=!(t!=null&&t.minimize)&&(!i||e.length>70||c||s||o);let h="";const m=i&&We(e.charCodeAt(0));return(f&&!m||s)&&(h+=`
`),h+=n,(f||c)&&(h+=`
`),'"""'+h+'"""'}var d;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(d||(d={}));class Rn{constructor(t){const n=new kt(d.SOF,0,0,0,0);this.source=t,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==d.EOF)do if(t.next)t=t.next;else{const n=Ln(this,t.end);t.next=n,n.prev=t,t=n}while(t.kind===d.COMMENT);return t}}function Pn(e){return e===d.BANG||e===d.DOLLAR||e===d.AMP||e===d.PAREN_L||e===d.PAREN_R||e===d.SPREAD||e===d.COLON||e===d.EQUALS||e===d.AT||e===d.BRACKET_L||e===d.BRACKET_R||e===d.BRACE_L||e===d.PIPE||e===d.BRACE_R}function he(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function Be(e,t){return Ft(e.charCodeAt(t))&&Bt(e.charCodeAt(t+1))}function Ft(e){return e>=55296&&e<=56319}function Bt(e){return e>=56320&&e<=57343}function ne(e,t){const n=e.source.body.codePointAt(t);if(n===void 0)return d.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function U(e,t,n,r,i){const s=e.line,o=1+n-e.lineStart;return new kt(t,n,r,s,o,i)}function Ln(e,t){const n=e.source.body,r=n.length;let i=t;for(;i<r;){const s=n.charCodeAt(i);switch(s){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return Fn(e,i);case 33:return U(e,d.BANG,i,i+1);case 36:return U(e,d.DOLLAR,i,i+1);case 38:return U(e,d.AMP,i,i+1);case 40:return U(e,d.PAREN_L,i,i+1);case 41:return U(e,d.PAREN_R,i,i+1);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return U(e,d.SPREAD,i,i+3);break;case 58:return U(e,d.COLON,i,i+1);case 61:return U(e,d.EQUALS,i,i+1);case 64:return U(e,d.AT,i,i+1);case 91:return U(e,d.BRACKET_L,i,i+1);case 93:return U(e,d.BRACKET_R,i,i+1);case 123:return U(e,d.BRACE_L,i,i+1);case 124:return U(e,d.PIPE,i,i+1);case 125:return U(e,d.BRACE_R,i,i+1);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?qn(e,i):Un(e,i)}if(be(s)||s===45)return Bn(e,i,s);if(Lt(s))return Vn(e,i);throw j(e.source,i,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:he(s)||Be(n,i)?`Unexpected character: ${ne(e,i)}.`:`Invalid character: ${ne(e,i)}.`)}return U(e,d.EOF,r,r)}function Fn(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const s=n.charCodeAt(i);if(s===10||s===13)break;if(he(s))++i;else if(Be(n,i))i+=2;else break}return U(e,d.COMMENT,t,i,n.slice(t+1,i))}function Bn(e,t,n){const r=e.source.body;let i=t,s=n,o=!1;if(s===45&&(s=r.charCodeAt(++i)),s===48){if(s=r.charCodeAt(++i),be(s))throw j(e.source,i,`Invalid number, unexpected digit after 0: ${ne(e,i)}.`)}else i=qe(e,i,s),s=r.charCodeAt(i);if(s===46&&(o=!0,s=r.charCodeAt(++i),i=qe(e,i,s),s=r.charCodeAt(i)),(s===69||s===101)&&(o=!0,s=r.charCodeAt(++i),(s===43||s===45)&&(s=r.charCodeAt(++i)),i=qe(e,i,s),s=r.charCodeAt(i)),s===46||Lt(s))throw j(e.source,i,`Invalid number, expected digit but got: ${ne(e,i)}.`);return U(e,o?d.FLOAT:d.INT,t,i,r.slice(t,i))}function qe(e,t,n){if(!be(n))throw j(e.source,t,`Invalid number, expected digit but got: ${ne(e,t)}.`);const r=e.source.body;let i=t+1;for(;be(r.charCodeAt(i));)++i;return i}function Un(e,t){const n=e.source.body,r=n.length;let i=t+1,s=i,o="";for(;i<r;){const a=n.charCodeAt(i);if(a===34)return o+=n.slice(s,i),U(e,d.STRING,t,i+1,o);if(a===92){o+=n.slice(s,i);const u=n.charCodeAt(i+1)===117?n.charCodeAt(i+2)===123?Mn(e,i):jn(e,i):$n(e,i);o+=u.value,i+=u.size,s=i;continue}if(a===10||a===13)break;if(he(a))++i;else if(Be(n,i))i+=2;else throw j(e.source,i,`Invalid character within String: ${ne(e,i)}.`)}throw j(e.source,i,"Unterminated string.")}function Mn(e,t){const n=e.source.body;let r=0,i=3;for(;i<12;){const s=n.charCodeAt(t+i++);if(s===125){if(i<5||!he(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|me(s),r<0)break}throw j(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+i)}".`)}function jn(e,t){const n=e.source.body,r=ft(n,t+2);if(he(r))return{value:String.fromCodePoint(r),size:6};if(Ft(r)&&n.charCodeAt(t+6)===92&&n.charCodeAt(t+7)===117){const i=ft(n,t+8);if(Bt(i))return{value:String.fromCodePoint(r,i),size:12}}throw j(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function ft(e,t){return me(e.charCodeAt(t))<<12|me(e.charCodeAt(t+1))<<8|me(e.charCodeAt(t+2))<<4|me(e.charCodeAt(t+3))}function me(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function $n(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw j(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function qn(e,t){const n=e.source.body,r=n.length;let i=e.lineStart,s=t+3,o=s,a="";const u=[];for(;s<r;){const c=n.charCodeAt(s);if(c===34&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34){a+=n.slice(o,s),u.push(a);const f=U(e,d.BLOCK_STRING,t,s+3,wn(u).join(`
`));return e.line+=u.length-1,e.lineStart=i,f}if(c===92&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34&&n.charCodeAt(s+3)===34){a+=n.slice(o,s),o=s+1,s+=4;continue}if(c===10||c===13){a+=n.slice(o,s),u.push(a),c===13&&n.charCodeAt(s+1)===10?s+=2:++s,a="",o=s,i=s;continue}if(he(c))++s;else if(Be(n,s))s+=2;else throw j(e.source,s,`Invalid character within String: ${ne(e,s)}.`)}throw j(e.source,s,"Unterminated string.")}function Vn(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const s=n.charCodeAt(i);if(Cn(s))++i;else break}return U(e,d.NAME,t,i,n.slice(t,i))}const Hn=10,Ut=2;function Mt(e){return Ue(e,[])}function Ue(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return Gn(e,t);default:return String(e)}}function Gn(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(Yn(e)){const r=e.toJSON();if(r!==e)return typeof r=="string"?r:Ue(r,n)}else if(Array.isArray(e))return Jn(e,n);return zn(e,n)}function Yn(e){return typeof e.toJSON=="function"}function zn(e,t){const n=Object.entries(e);return n.length===0?"{}":t.length>Ut?"["+Qn(e)+"]":"{ "+n.map(([i,s])=>i+": "+Ue(s,t)).join(", ")+" }"}function Jn(e,t){if(e.length===0)return"[]";if(t.length>Ut)return"[Array]";const n=Math.min(Hn,e.length),r=e.length-n,i=[];for(let s=0;s<n;++s)i.push(Ue(e[s],t));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function Qn(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}const Xn=function(t,n){return t instanceof n};class jt{constructor(t,n="GraphQL request",r={line:1,column:1}){typeof t=="string"||Ce(!1,`Body must be a string. Received: ${Mt(t)}.`),this.body=t,this.name=n,this.locationOffset=r,this.locationOffset.line>0||Ce(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Ce(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function Wn(e){return Xn(e,jt)}function Zn(e,t){return new Kn(e,t).parseDocument()}class Kn{constructor(t,n={}){const r=Wn(t)?t:new jt(t);this._lexer=new Rn(r),this._options=n,this._tokenCounter=0}parseName(){const t=this.expectToken(d.NAME);return this.node(t,{kind:b.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:b.DOCUMENT,definitions:this.many(d.SOF,this.parseDefinition,d.EOF)})}parseDefinition(){if(this.peek(d.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),n=t?this._lexer.lookahead():this._lexer.token;if(n.kind===d.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw j(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(d.BRACE_L))return this.node(t,{kind:b.OPERATION_DEFINITION,operation:le.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek(d.NAME)&&(r=this.parseName()),this.node(t,{kind:b.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(d.NAME);switch(t.value){case"query":return le.QUERY;case"mutation":return le.MUTATION;case"subscription":return le.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(d.PAREN_L,this.parseVariableDefinition,d.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:b.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(d.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(d.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(d.DOLLAR),this.node(t,{kind:b.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:b.SELECTION_SET,selections:this.many(d.BRACE_L,this.parseSelection,d.BRACE_R)})}parseSelection(){return this.peek(d.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,n=this.parseName();let r,i;return this.expectOptionalToken(d.COLON)?(r=n,i=this.parseName()):i=n,this.node(t,{kind:b.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(d.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const n=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(d.PAREN_L,n,d.PAREN_R)}parseArgument(t=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken(d.COLON),this.node(n,{kind:b.ARGUMENT,name:r,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(d.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(d.NAME)?this.node(t,{kind:b.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:b.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:b.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:b.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const n=this._lexer.token;switch(n.kind){case d.BRACKET_L:return this.parseList(t);case d.BRACE_L:return this.parseObject(t);case d.INT:return this.advanceLexer(),this.node(n,{kind:b.INT,value:n.value});case d.FLOAT:return this.advanceLexer(),this.node(n,{kind:b.FLOAT,value:n.value});case d.STRING:case d.BLOCK_STRING:return this.parseStringLiteral();case d.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:b.BOOLEAN,value:!0});case"false":return this.node(n,{kind:b.BOOLEAN,value:!1});case"null":return this.node(n,{kind:b.NULL});default:return this.node(n,{kind:b.ENUM,value:n.value})}case d.DOLLAR:if(t)if(this.expectToken(d.DOLLAR),this._lexer.token.kind===d.NAME){const r=this._lexer.token.value;throw j(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:b.STRING,value:t.value,block:t.kind===d.BLOCK_STRING})}parseList(t){const n=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:b.LIST,values:this.any(d.BRACKET_L,n,d.BRACKET_R)})}parseObject(t){const n=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:b.OBJECT,fields:this.any(d.BRACE_L,n,d.BRACE_R)})}parseObjectField(t){const n=this._lexer.token,r=this.parseName();return this.expectToken(d.COLON),this.node(n,{kind:b.OBJECT_FIELD,name:r,value:this.parseValueLiteral(t)})}parseDirectives(t){const n=[];for(;this.peek(d.AT);)n.push(this.parseDirective(t));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const n=this._lexer.token;return this.expectToken(d.AT),this.node(n,{kind:b.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let n;if(this.expectOptionalToken(d.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(d.BRACKET_R),n=this.node(t,{kind:b.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(d.BANG)?this.node(t,{kind:b.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:b.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(d.STRING)||this.peek(d.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),i=this.many(d.BRACE_L,this.parseOperationTypeDefinition,d.BRACE_R);return this.node(t,{kind:b.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:i})}parseOperationTypeDefinition(){const t=this._lexer.token,n=this.parseOperationType();this.expectToken(d.COLON);const r=this.parseNamedType();return this.node(t,{kind:b.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),i=this.parseConstDirectives();return this.node(t,{kind:b.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i})}parseObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(t,{kind:b.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:s,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(d.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(d.BRACE_L,this.parseFieldDefinition,d.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,n=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(d.COLON);const s=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(t,{kind:b.FIELD_DEFINITION,description:n,name:r,arguments:i,type:s,directives:o})}parseArgumentDefs(){return this.optionalMany(d.PAREN_L,this.parseInputValueDef,d.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(d.COLON);const i=this.parseTypeReference();let s;this.expectOptionalToken(d.EQUALS)&&(s=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(t,{kind:b.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:s,directives:o})}parseInterfaceTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(t,{kind:b.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:s,fields:o})}parseUnionTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(t,{kind:b.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(d.EQUALS)?this.delimitedMany(d.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(t,{kind:b.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:s})}parseEnumValuesDefinition(){return this.optionalMany(d.BRACE_L,this.parseEnumValueDefinition,d.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(t,{kind:b.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw j(this._lexer.source,this._lexer.token.start,`${xe(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(t,{kind:b.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(d.BRACE_L,this.parseInputValueDef,d.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===d.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany(d.BRACE_L,this.parseOperationTypeDefinition,d.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:b.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(t,{kind:b.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:b.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:s})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:b.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:s})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:b.UNION_TYPE_EXTENSION,name:n,directives:r,types:i})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:b.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:b.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i})}parseDirectiveDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(d.AT);const r=this.parseName(),i=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(t,{kind:b.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,repeatable:s,locations:o})}parseDirectiveLocations(){return this.delimitedMany(d.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(Xe,n.value))return n;throw this.unexpected(t)}node(t,n){return this._options.noLocation!==!0&&(n.loc=new xn(t,this._lexer.lastToken,this._lexer.source)),n}peek(t){return this._lexer.token.kind===t}expectToken(t){const n=this._lexer.token;if(n.kind===t)return this.advanceLexer(),n;throw j(this._lexer.source,n.start,`Expected ${$t(t)}, found ${xe(n)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const n=this._lexer.token;if(n.kind===d.NAME&&n.value===t)this.advanceLexer();else throw j(this._lexer.source,n.start,`Expected "${t}", found ${xe(n)}.`)}expectOptionalKeyword(t){const n=this._lexer.token;return n.kind===d.NAME&&n.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const n=t??this._lexer.token;return j(this._lexer.source,n.start,`Unexpected ${xe(n)}.`)}any(t,n,r){this.expectToken(t);const i=[];for(;!this.expectOptionalToken(r);)i.push(n.call(this));return i}optionalMany(t,n,r){if(this.expectOptionalToken(t)){const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(t,n,r){this.expectToken(t);const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(t,n){this.expectOptionalToken(t);const r=[];do r.push(n.call(this));while(this.expectOptionalToken(t));return r}advanceLexer(){const{maxTokens:t}=this._options,n=this._lexer.advance();if(t!==void 0&&n.kind!==d.EOF&&(++this._tokenCounter,this._tokenCounter>t))throw j(this._lexer.source,n.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function xe(e){const t=e.value;return $t(e.kind)+(t!=null?` "${t}"`:"")}function $t(e){return Pn(e)?`"${e}"`:e}function er(e){return`"${e.replace(tr,nr)}"`}const tr=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function nr(e){return rr[e.charCodeAt(0)]}const rr=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],ir=Object.freeze({});function sr(e,t,n=Rt){const r=new Map;for(const N of Object.values(b))r.set(N,or(t,N));let i,s=Array.isArray(e),o=[e],a=-1,u=[],c=e,f,h;const m=[],T=[];do{a++;const N=a===o.length,q=N&&u.length!==0;if(N){if(f=T.length===0?void 0:m[m.length-1],c=h,h=T.pop(),q)if(s){c=c.slice();let M=0;for(const[z,B]of u){const x=z-M;B===null?(c.splice(x,1),M++):c[x]=B}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[M,z]of u)c[M]=z}a=i.index,o=i.keys,u=i.edits,s=i.inArray,i=i.prev}else if(h){if(f=s?a:o[a],c=h[f],c==null)continue;m.push(f)}let P;if(!Array.isArray(c)){var y,E;ut(c)||Ce(!1,`Invalid AST Node: ${Mt(c)}.`);const M=N?(y=r.get(c.kind))===null||y===void 0?void 0:y.leave:(E=r.get(c.kind))===null||E===void 0?void 0:E.enter;if(P=M==null?void 0:M.call(t,c,f,h,m,T),P===ir)break;if(P===!1){if(!N){m.pop();continue}}else if(P!==void 0&&(u.push([f,P]),!N))if(ut(P))c=P;else{m.pop();continue}}if(P===void 0&&q&&u.push([f,c]),N)m.pop();else{var L;i={inArray:s,index:a,keys:o,edits:u,prev:i},s=Array.isArray(c),o=s?c:(L=n[c.kind])!==null&&L!==void 0?L:[],a=-1,u=[],h&&T.push(h),h=c}}while(i!==void 0);return u.length!==0?u[u.length-1][1]:e}function or(e,t){const n=e[t];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function ar(e){return sr(e,lr)}const cr=80,lr={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>_(e.definitions,`

`)},OperationDefinition:{leave(e){const t=I("(",_(e.variableDefinitions,", "),")"),n=_([e.operation,_([e.name,t]),_(e.directives," ")]," ");return(n==="query"?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+I(" = ",n)+I(" ",_(r," "))},SelectionSet:{leave:({selections:e})=>X(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const s=I("",e,": ")+t;let o=s+I("(",_(n,", "),")");return o.length>cr&&(o=s+I(`(
`,we(_(n,`
`)),`
)`)),_([o,_(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+I(" ",_(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>_(["...",I("on ",e),_(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${I("(",_(n,", "),")")} on ${t} ${I("",_(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?kn(e):er(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+_(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+_(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+I("(",_(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>I("",e,`
`)+_(["schema",_(t," "),X(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>I("",e,`
`)+_(["scalar",t,_(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>I("",e,`
`)+_(["type",t,I("implements ",_(n," & ")),_(r," "),X(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>I("",e,`
`)+t+(dt(n)?I(`(
`,we(_(n,`
`)),`
)`):I("(",_(n,", "),")"))+": "+r+I(" ",_(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>I("",e,`
`)+_([t+": "+n,I("= ",r),_(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>I("",e,`
`)+_(["interface",t,I("implements ",_(n," & ")),_(r," "),X(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>I("",e,`
`)+_(["union",t,_(n," "),I("= ",_(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>I("",e,`
`)+_(["enum",t,_(n," "),X(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>I("",e,`
`)+_([t,_(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>I("",e,`
`)+_(["input",t,_(n," "),X(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>I("",e,`
`)+"directive @"+t+(dt(n)?I(`(
`,we(_(n,`
`)),`
)`):I("(",_(n,", "),")"))+(r?" repeatable":"")+" on "+_(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>_(["extend schema",_(e," "),X(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>_(["extend scalar",e,_(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>_(["extend type",e,I("implements ",_(t," & ")),_(n," "),X(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>_(["extend interface",e,I("implements ",_(t," & ")),_(n," "),X(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>_(["extend union",e,_(t," "),I("= ",_(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>_(["extend enum",e,_(t," "),X(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>_(["extend input",e,_(t," "),X(n)]," ")}};function _(e,t=""){var n;return(n=e==null?void 0:e.filter(r=>r).join(t))!==null&&n!==void 0?n:""}function X(e){return I(`{
`,we(_(e,`
`)),`
}`)}function I(e,t,n=""){return t!=null&&t!==""?e+t+n:""}function we(e){return I("  ",e.replace(/\n/g,`
  `))}function dt(e){var t;return(t=e==null?void 0:e.some(n=>n.includes(`
`)))!==null&&t!==void 0?t:!1}const ht=e=>{var r,i;let t;const n=e.definitions.filter(s=>s.kind==="OperationDefinition");return n.length===1&&(t=(i=(r=n[0])==null?void 0:r.name)==null?void 0:i.value),t},Ve=e=>{if(typeof e=="string"){let n;try{const r=Zn(e);n=ht(r)}catch{}return{query:e,operationName:n}}const t=ht(e);return{query:ar(e),operationName:t}};class ge extends Error{constructor(t,n){const r=`${ge.extractMessage(t)}: ${JSON.stringify({response:t,request:n})}`;super(r),Object.setPrototypeOf(this,ge.prototype),this.response=t,this.request=n,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ge)}static extractMessage(t){var n,r;return((r=(n=t.errors)==null?void 0:n[0])==null?void 0:r.message)??`GraphQL Error (Code: ${t.status})`}}var ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ze={exports:{}};(function(e,t){var n=typeof self<"u"?self:ur,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function u(l){return l&&DataView.prototype.isPrototypeOf(l)}if(a.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(l){return l&&c.indexOf(Object.prototype.toString.call(l))>-1};function h(l){if(typeof l!="string"&&(l=String(l)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(l))throw new TypeError("Invalid character in header field name");return l.toLowerCase()}function m(l){return typeof l!="string"&&(l=String(l)),l}function T(l){var p={next:function(){var A=l.shift();return{done:A===void 0,value:A}}};return a.iterable&&(p[Symbol.iterator]=function(){return p}),p}function y(l){this.map={},l instanceof y?l.forEach(function(p,A){this.append(A,p)},this):Array.isArray(l)?l.forEach(function(p){this.append(p[0],p[1])},this):l&&Object.getOwnPropertyNames(l).forEach(function(p){this.append(p,l[p])},this)}y.prototype.append=function(l,p){l=h(l),p=m(p);var A=this.map[l];this.map[l]=A?A+", "+p:p},y.prototype.delete=function(l){delete this.map[h(l)]},y.prototype.get=function(l){return l=h(l),this.has(l)?this.map[l]:null},y.prototype.has=function(l){return this.map.hasOwnProperty(h(l))},y.prototype.set=function(l,p){this.map[h(l)]=m(p)},y.prototype.forEach=function(l,p){for(var A in this.map)this.map.hasOwnProperty(A)&&l.call(p,this.map[A],A,this)},y.prototype.keys=function(){var l=[];return this.forEach(function(p,A){l.push(A)}),T(l)},y.prototype.values=function(){var l=[];return this.forEach(function(p){l.push(p)}),T(l)},y.prototype.entries=function(){var l=[];return this.forEach(function(p,A){l.push([A,p])}),T(l)},a.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function E(l){if(l.bodyUsed)return Promise.reject(new TypeError("Already read"));l.bodyUsed=!0}function L(l){return new Promise(function(p,A){l.onload=function(){p(l.result)},l.onerror=function(){A(l.error)}})}function N(l){var p=new FileReader,A=L(p);return p.readAsArrayBuffer(l),A}function q(l){var p=new FileReader,A=L(p);return p.readAsText(l),A}function P(l){for(var p=new Uint8Array(l),A=new Array(p.length),V=0;V<p.length;V++)A[V]=String.fromCharCode(p[V]);return A.join("")}function M(l){if(l.slice)return l.slice(0);var p=new Uint8Array(l.byteLength);return p.set(new Uint8Array(l)),p.buffer}function z(){return this.bodyUsed=!1,this._initBody=function(l){this._bodyInit=l,l?typeof l=="string"?this._bodyText=l:a.blob&&Blob.prototype.isPrototypeOf(l)?this._bodyBlob=l:a.formData&&FormData.prototype.isPrototypeOf(l)?this._bodyFormData=l:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(l)?this._bodyText=l.toString():a.arrayBuffer&&a.blob&&u(l)?(this._bodyArrayBuffer=M(l.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(l)||f(l))?this._bodyArrayBuffer=M(l):this._bodyText=l=Object.prototype.toString.call(l):this._bodyText="",this.headers.get("content-type")||(typeof l=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(l)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var l=E(this);if(l)return l;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?E(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(N)}),this.text=function(){var l=E(this);if(l)return l;if(this._bodyBlob)return q(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}var B=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(l){var p=l.toUpperCase();return B.indexOf(p)>-1?p:l}function g(l,p){p=p||{};var A=p.body;if(l instanceof g){if(l.bodyUsed)throw new TypeError("Already read");this.url=l.url,this.credentials=l.credentials,p.headers||(this.headers=new y(l.headers)),this.method=l.method,this.mode=l.mode,this.signal=l.signal,!A&&l._bodyInit!=null&&(A=l._bodyInit,l.bodyUsed=!0)}else this.url=String(l);if(this.credentials=p.credentials||this.credentials||"same-origin",(p.headers||!this.headers)&&(this.headers=new y(p.headers)),this.method=x(p.method||this.method||"GET"),this.mode=p.mode||this.mode||null,this.signal=p.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&A)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(A)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})};function D(l){var p=new FormData;return l.trim().split("&").forEach(function(A){if(A){var V=A.split("="),$=V.shift().replace(/\+/g," "),C=V.join("=").replace(/\+/g," ");p.append(decodeURIComponent($),decodeURIComponent(C))}}),p}function G(l){var p=new y,A=l.replace(/\r?\n[\t ]+/g," ");return A.split(/\r?\n/).forEach(function(V){var $=V.split(":"),C=$.shift().trim();if(C){var Ie=$.join(":").trim();p.append(C,Ie)}}),p}z.call(g.prototype);function S(l,p){p||(p={}),this.type="default",this.status=p.status===void 0?200:p.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in p?p.statusText:"OK",this.headers=new y(p.headers),this.url=p.url||"",this._initBody(l)}z.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},S.error=function(){var l=new S(null,{status:0,statusText:""});return l.type="error",l};var Ae=[301,302,303,307,308];S.redirect=function(l,p){if(Ae.indexOf(p)===-1)throw new RangeError("Invalid status code");return new S(null,{status:p,headers:{location:l}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(p,A){this.message=p,this.name=A;var V=Error(p);this.stack=V.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function Me(l,p){return new Promise(function(A,V){var $=new g(l,p);if($.signal&&$.signal.aborted)return V(new o.DOMException("Aborted","AbortError"));var C=new XMLHttpRequest;function Ie(){C.abort()}C.onload=function(){var pe={status:C.status,statusText:C.statusText,headers:G(C.getAllResponseHeaders()||"")};pe.url="responseURL"in C?C.responseURL:pe.headers.get("X-Request-URL");var je="response"in C?C.response:C.responseText;A(new S(je,pe))},C.onerror=function(){V(new TypeError("Network request failed"))},C.ontimeout=function(){V(new TypeError("Network request failed"))},C.onabort=function(){V(new o.DOMException("Aborted","AbortError"))},C.open($.method,$.url,!0),$.credentials==="include"?C.withCredentials=!0:$.credentials==="omit"&&(C.withCredentials=!1),"responseType"in C&&a.blob&&(C.responseType="blob"),$.headers.forEach(function(pe,je){C.setRequestHeader(je,pe)}),$.signal&&($.signal.addEventListener("abort",Ie),C.onreadystatechange=function(){C.readyState===4&&$.signal.removeEventListener("abort",Ie)}),C.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return Me.polyfill=!0,s.fetch||(s.fetch=Me,s.Headers=y,s.Request=g,s.Response=S),o.Headers=y,o.Request=g,o.Response=S,o.fetch=Me,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(Ze,Ze.exports);var Re=Ze.exports;const Se=fr(Re),dr=qt({__proto__:null,default:Se},[Re]),ae=e=>{let t={};return e&&(typeof Headers<"u"&&e instanceof Headers||dr&&Re.Headers&&e instanceof Re.Headers?t=gn(e):Array.isArray(e)?e.forEach(([n,r])=>{n&&r!==void 0&&(t[n]=r)}):t=e),t},pt=e=>e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),hr=e=>{if(!Array.isArray(e.query)){const r=e,i=[`query=${encodeURIComponent(pt(r.query))}`];return e.variables&&i.push(`variables=${encodeURIComponent(r.jsonSerializer.stringify(r.variables))}`),r.operationName&&i.push(`operationName=${encodeURIComponent(r.operationName)}`),i.join("&")}if(typeof e.variables<"u"&&!Array.isArray(e.variables))throw new Error("Cannot create query with given variable type, array expected");const t=e,n=e.query.reduce((r,i,s)=>(r.push({query:pt(i),variables:t.variables?t.jsonSerializer.stringify(t.variables[s]):void 0}),r),[]);return`query=${encodeURIComponent(t.jsonSerializer.stringify(n))}`},pr=e=>async t=>{const{url:n,query:r,variables:i,operationName:s,fetch:o,fetchOptions:a,middleware:u}=t,c={...t.headers};let f="",h;e==="POST"?(h=gr(r,i,s,a.jsonSerializer),typeof h=="string"&&(c["Content-Type"]="application/json")):f=hr({query:r,variables:i,operationName:s,jsonSerializer:a.jsonSerializer??Ke});const m={method:e,headers:c,body:h,...a};let T=n,y=m;if(u){const E=await Promise.resolve(u({...m,url:n,operationName:s,variables:i})),{url:L,...N}=E;T=L,y=N}return f&&(T=`${T}?${f}`),await o(T,y)};class mr{constructor(t,n={}){this.url=t,this.requestConfig=n,this.rawRequest=async(...r)=>{const[i,s,o]=r,a=En(i,s,o),{headers:u,fetch:c=Se,method:f="POST",requestMiddleware:h,responseMiddleware:m,...T}=this.requestConfig,{url:y}=this;a.signal!==void 0&&(T.signal=a.signal);const{operationName:E}=Ve(a.query);return He({url:y,query:a.query,variables:a.variables,headers:{...ae(Ge(u)),...ae(a.requestHeaders)},operationName:E,fetch:c,method:f,fetchOptions:T,middleware:h}).then(L=>(m&&m(L),L)).catch(L=>{throw m&&m(L),L})}}async request(t,...n){const[r,i]=n,s=_n(t,r,i),{headers:o,fetch:a=Se,method:u="POST",requestMiddleware:c,responseMiddleware:f,...h}=this.requestConfig,{url:m}=this;s.signal!==void 0&&(h.signal=s.signal);const{query:T,operationName:y}=Ve(s.document);return He({url:m,query:T,variables:s.variables,headers:{...ae(Ge(o)),...ae(s.requestHeaders)},operationName:y,fetch:a,method:u,fetchOptions:h,middleware:c}).then(E=>(f&&f(E),E.data)).catch(E=>{throw f&&f(E),E})}batchRequests(t,n){const r=bn(t,n),{headers:i,...s}=this.requestConfig;r.signal!==void 0&&(s.signal=r.signal);const o=r.documents.map(({document:u})=>Ve(u).query),a=r.documents.map(({variables:u})=>u);return He({url:this.url,query:o,variables:a,headers:{...ae(Ge(i)),...ae(r.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??Se,method:this.requestConfig.method||"POST",fetchOptions:s,middleware:this.requestConfig.requestMiddleware}).then(u=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(u),u.data)).catch(u=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(u),u})}setHeaders(t){return this.requestConfig.headers=t,this}setHeader(t,n){const{headers:r}=this.requestConfig;return r?r[t]=n:this.requestConfig.headers={[t]:n},this}setEndpoint(t){return this.url=t,this}}const He=async e=>{const{query:t,variables:n,fetchOptions:r}=e,i=pr(yn(e.method??"post")),s=Array.isArray(e.query),o=await i(e),a=await _r(o,r.jsonSerializer??Ke),u=Array.isArray(a)?!a.some(({data:f})=>!f):!!a.data,c=Array.isArray(a)||!a.errors||Array.isArray(a.errors)&&!a.errors.length||r.errorPolicy==="all"||r.errorPolicy==="ignore";if(o.ok&&c&&u){const{errors:f,...h}=(Array.isArray(a),a),m=r.errorPolicy==="ignore"?h:a;return{...s?{data:m}:m,headers:o.headers,status:o.status}}else{const f=typeof a=="string"?{error:a}:a;throw new ge({...f,status:o.status,headers:o.headers},{query:t,variables:n})}};async function yr(e,t,...n){const r=vn(e,t,...n);return new mr(r.url).request({...r})}const gr=(e,t,n,r)=>{const i=r??Ke;if(!Array.isArray(e))return i.stringify({query:e,variables:t,operationName:n});if(typeof t<"u"&&!Array.isArray(t))throw new Error("Cannot create request body with given variable type, array expected");const s=e.reduce((o,a,u)=>(o.push({query:a,variables:t?t[u]:void 0}),o),[]);return i.stringify(s)},_r=async(e,t)=>{let n;return e.headers.forEach((r,i)=>{i.toLowerCase()==="content-type"&&(n=r)}),n&&(n.toLowerCase().startsWith("application/json")||n.toLowerCase().startsWith("application/graphql+json")||n.toLowerCase().startsWith("application/graphql-response+json"))?t.parse(await e.text()):e.text()},Ge=e=>typeof e=="function"?e():e,Er=(e,...t)=>e.reduce((n,r,i)=>`${n}${r}${i in t?String(t[i]):""}`,""),br=`https://${Q.storeUrl}/api/2023-04/graphql.json`,vr={},Tr={"X-Shopify-Storefront-Access-Token":Q.accessToken},mt=250,Nr=Er`
{
  collection(handle: "${Q.bundleCollectionHandle}") {
    handle
    id
    products(first: ${mt}) {
      edges {
        node {
          id
          title
          availableForSale
          images(first: 1) {
            edges {
              node {
                id
                height
                width
                url
              }
            }
          }
          variants(first: ${mt}) {
            edges {
              node {
                id
                availableForSale
                title
                price {
                  amount
                  currencyCode
                }
                image {
                  id
                  url
                  height
                  width                      
                }
              }
            }
          }
        }
      }
    }
  }  
}
`,Ar=async()=>{try{return(await yr(br,Nr,vr,Tr)).collection}catch(e){console.error(e),process.exit(1)}};class Ir{constructor(t=[],n=0){this.items=t,this.productsPerPage=Q.productsPerPage,this.currentPage=n}get offset(){const t=this.currentPage*this.productsPerPage-1;return Math.max(t,0)}get pageEnd(){return this.offset+this.productsPerPage}get currentItems(){return this.items.slice(this.offset,this.pageEnd)}get itemCount(){return this.items.length}get pageCount(){return Math.ceil(this.itemCount/this.productsPerPage)}get showPages(){return this.pageCount>1}}class Or{constructor(t=[]){this.productData=t}variantData(){return this.productData.map(r=>r.node.variants.edges.map(i=>Object.assign(i.node,{main_product_title:r.node.title}))).flat().filter(r=>r.availableForSale)}variants(){return this.variantData().map(n=>new wt(n))}}function xr(e){let t,n,r,i,s,o,a,u,c=e[0].title+"",f,h,m,T,y=e[0].price+"",E,L,N,q,P,M,z,B;return{c(){t=k("div"),n=k("div"),r=k("div"),i=k("img"),a=J(),u=k("div"),f=W(c),h=J(),m=k("div"),T=W("$"),E=W(y),L=J(),N=k("div"),q=k("button"),P=W("Add to Bundle"),rt(i.src,s=e[0].image)||v(i,"src",s),v(i,"alt",o=e[0].title),v(r,"class","product-image"),v(u,"class","product-title svelte-a99932"),v(m,"class","product-price svelte-a99932"),v(n,"class","product-details svelte-a99932"),v(q,"type","button"),q.disabled=e[1],v(q,"class","btn btn-bundle svelte-a99932"),v(N,"class","btn-area svelte-a99932"),v(t,"class","product-box svelte-a99932"),v(t,"data-product-id",M=e[0].id),ke(t,"complete",e[1])},m(x,g){Y(x,t,g),O(t,n),O(n,r),O(r,i),O(n,a),O(n,u),O(u,f),O(n,h),O(n,m),O(m,T),O(m,E),O(t,L),O(t,N),O(N,q),O(q,P),z||(B=Le(q,"click",e[2]),z=!0)},p(x,[g]){g&1&&!rt(i.src,s=x[0].image)&&v(i,"src",s),g&1&&o!==(o=x[0].title)&&v(i,"alt",o),g&1&&c!==(c=x[0].title+"")&&_e(f,c),g&1&&y!==(y=x[0].price+"")&&_e(E,y),g&2&&(q.disabled=x[1]),g&1&&M!==(M=x[0].id)&&v(t,"data-product-id",M),g&2&&ke(t,"complete",x[1])},i:R,o:R,d(x){x&&H(t),z=!1,B()}}}function Dr(e,t,n){let r;Pe(e,te,a=>n(3,r=a));let{product:i}=t,{complete:s=!1}=t;const o=()=>{const a=[...r,i];te.save(a)};return e.$$set=a=>{"product"in a&&n(0,i=a.product),"complete"in a&&n(1,s=a.complete)},[i,s,o]}class Cr extends Ne{constructor(t){super(),Te(this,t,Dr,xr,fe,{product:0,complete:1})}}function yt(e){let t,n,r;return{c(){t=k("button"),t.textContent="",v(t,"class","remove-btn svelte-1w76egj")},m(i,s){Y(i,t,s),n||(r=Le(t,"click",e[3]),n=!0)},p:R,d(i){i&&H(t),n=!1,r()}}}function wr(e){let t,n,r,i=e[0]&&yt(e);return{c(){t=k("div"),i&&i.c(),n=J(),r=k("div"),v(r,"class","selected-product-image svelte-1w76egj"),v(r,"style",e[2]),v(r,"role","img"),v(r,"alt",e[1]),v(r,"title",e[1]),v(r,"aria-label",e[1]),v(t,"class","selected-product-box svelte-1w76egj")},m(s,o){Y(s,t,o),i&&i.m(t,null),O(t,n),O(t,r)},p(s,[o]){s[0]?i?i.p(s,o):(i=yt(s),i.c(),i.m(t,n)):i&&(i.d(1),i=null),o&4&&v(r,"style",s[2]),o&2&&v(r,"alt",s[1]),o&2&&v(r,"title",s[1]),o&2&&v(r,"aria-label",s[1])},i:R,o:R,d(s){s&&H(t),i&&i.d()}}}function Sr(e,t,n){let r;Pe(e,te,f=>n(6,r=f));let{bundleIndex:i=0}=t,s,o,a,u;const c=()=>{let f=!1;const h=r.filter(m=>!f&&m.id===s.id?(f=!0,!1):!0);te.save(h)};return e.$$set=f=>{"bundleIndex"in f&&n(4,i=f.bundleIndex)},e.$$.update=()=>{e.$$.dirty&113&&(n(0,s=r[i]),n(5,o=(s==null?void 0:s.image)||""),n(1,a=(s==null?void 0:s.title)||""),o?n(2,u=`background-image: url(${o});`):n(2,u=""))},[s,a,u,c,i,o,r]}class kr extends Ne{constructor(t){super(),Te(this,t,Sr,wr,fe,{bundleIndex:4})}}function Rr(e){let t,n,r;return{c(){t=k("button"),t.textContent="Add Bundle to Cart",v(t,"type","button"),v(t,"class","btn add-to-cart svelte-y4q8cr")},m(i,s){Y(i,t,s),n||(r=Le(t,"click",e[0]),n=!0)},p:R,i:R,o:R,d(i){i&&H(t),n=!1,r()}}}function Pr(e,t,n){let r;Pe(e,te,c=>n(1,r=c));const i=`${window.Shopify.routes.root}cart/add.js`,s=document.querySelector("#HeaderCart"),o=()=>r.map(c=>({id:c.shortId,quantity:1,properties:{"Bundled Item":"Added as bundle"}})),a=()=>{document.dispatchEvent(new CustomEvent("cart:build")),s.classList.add("is-active")};return[async()=>{const c={items:o()};await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),a()}]}class Lr extends Ne{constructor(t){super(),Te(this,t,Pr,Rr,fe,{})}}function Fr(e){let t,n,r,i;return{c(){t=k("button"),n=W(e[0]),v(t,"class",Gt(e[2]())+" svelte-wk67u4"),t.disabled=e[1],ke(t,"current",e[1])},m(s,o){Y(s,t,o),O(t,n),r||(i=Le(t,"click",e[3]),r=!0)},p(s,[o]){o&1&&_e(n,s[0]),o&2&&(t.disabled=s[1]),o&2&&ke(t,"current",s[1])},i:R,o:R,d(s){s&&H(t),r=!1,i()}}}function Br(e,t,n){const r=Qt();let{page:i=0}=t,{buttonText:s=i+1}=t,{currentPage:o=0}=t,a=!1;const u=()=>parseInt(s)?"page-btn":"arrow-btn",c=()=>{console.log("setting the currentPage to page",{page:i,currentPage:o}),r("set-current-page",{currentPage:i})};return e.$$set=f=>{"page"in f&&n(4,i=f.page),"buttonText"in f&&n(0,s=f.buttonText),"currentPage"in f&&n(5,o=f.currentPage)},e.$$.update=()=>{e.$$.dirty&48&&n(1,a=i===o)},[s,a,u,c,i,o]}class tt extends Ne{constructor(t){super(),Te(this,t,Br,Fr,fe,{page:4,buttonText:0,currentPage:5})}}function Ur(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function gt(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function _t(e,t,n){const r=e.slice();return r[15]=t[n],r}function Mr(e){let t,n,r,i,s,o,a,u,c,f,h,m,T,y=e[3],E=[];for(let g=0;g<y.length;g+=1)E[g]=Et(_t(e,y,g));const L=g=>F(E[g],1,1,()=>{E[g]=null});let N=e[0].showPages&&bt(e);const q=[qr,$r],P=[];function M(g,D){return g[4]?0:1}u=M(e),c=P[u]=q[u](e);let z=Array(Q.bundleCount),B=[];for(let g=0;g<z.length;g+=1)B[g]=Vr(Ur(e,z,g));let x=Q.showTotal&&e[6]&&At(e);return{c(){t=k("div"),t.textContent=`Bundle ${Q.bundleCount} Products`,n=J(),r=k("div"),i=k("div");for(let g=0;g<E.length;g+=1)E[g].c();s=J(),N&&N.c(),o=J(),a=k("div"),c.c(),f=J(),h=k("div");for(let g=0;g<B.length;g+=1)B[g].c();m=J(),x&&x.c(),v(t,"class","bundler-title svelte-givt8r"),v(i,"class","product-box-rows svelte-givt8r"),v(h,"class","selected-bundle-products svelte-givt8r"),v(a,"id","sticky-bundle-container"),v(a,"class","svelte-givt8r"),v(r,"class","product-box-container svelte-givt8r")},m(g,D){Y(g,t,D),Y(g,n,D),Y(g,r,D),O(r,i);for(let G=0;G<E.length;G+=1)E[G]&&E[G].m(i,null);O(r,s),N&&N.m(r,null),O(r,o),O(r,a),P[u].m(a,null),O(a,f),O(a,h);for(let G=0;G<B.length;G+=1)B[G]&&B[G].m(h,null);O(a,m),x&&x.m(a,null),T=!0},p(g,D){if(D&24){y=g[3];let S;for(S=0;S<y.length;S+=1){const Ae=_t(g,y,S);E[S]?(E[S].p(Ae,D),w(E[S],1)):(E[S]=Et(Ae),E[S].c(),w(E[S],1),E[S].m(i,null))}for(K(),S=y.length;S<E.length;S+=1)L(S);ee()}g[0].showPages?N?(N.p(g,D),D&1&&w(N,1)):(N=bt(g),N.c(),w(N,1),N.m(r,o)):N&&(K(),F(N,1,1,()=>{N=null}),ee());let G=u;u=M(g),u===G?P[u].p(g,D):(K(),F(P[G],1,1,()=>{P[G]=null}),ee(),c=P[u],c?c.p(g,D):(c=P[u]=q[u](g),c.c()),w(c,1),c.m(a,f)),Q.showTotal&&g[6]?x?x.p(g,D):(x=At(g),x.c(),x.m(a,null)):x&&(x.d(1),x=null)},i(g){if(!T){for(let D=0;D<y.length;D+=1)w(E[D]);w(N),w(c);for(let D=0;D<z.length;D+=1)w(B[D]);T=!0}},o(g){E=E.filter(Boolean);for(let D=0;D<E.length;D+=1)F(E[D]);F(N),F(c),B=B.filter(Boolean);for(let D=0;D<B.length;D+=1)F(B[D]);T=!1},d(g){g&&H(t),g&&H(n),g&&H(r),Ye(E,g),N&&N.d(),P[u].d(),Ye(B,g),x&&x.d()}}}function jr(e){let t;return{c(){t=k("div"),t.textContent="...loading...",v(t,"id","loading-products"),v(t,"class","svelte-givt8r")},m(n,r){Y(n,t,r)},p:R,i:R,o:R,d(n){n&&H(t)}}}function Et(e){let t,n;return t=new Cr({props:{product:e[15],complete:e[4]}}),{c(){de(t.$$.fragment)},m(r,i){re(t,r,i),n=!0},p(r,i){const s={};i&8&&(s.product=r[15]),i&16&&(s.complete=r[4]),t.$set(s)},i(r){n||(w(t.$$.fragment,r),n=!0)},o(r){F(t.$$.fragment,r),n=!1},d(r){ie(t,r)}}}function bt(e){let t,n,r,i,s=e[1]>0&&vt(e),o=Array(e[0].pageCount),a=[];for(let f=0;f<o.length;f+=1)a[f]=Tt(gt(e,o,f));const u=f=>F(a[f],1,1,()=>{a[f]=null});let c=e[1]+1<e[0].pageCount&&Nt(e);return{c(){t=k("div"),s&&s.c(),n=J();for(let f=0;f<a.length;f+=1)a[f].c();r=J(),c&&c.c(),v(t,"class","page-buttons svelte-givt8r")},m(f,h){Y(f,t,h),s&&s.m(t,null),O(t,n);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(t,null);O(t,r),c&&c.m(t,null),i=!0},p(f,h){if(f[1]>0?s?(s.p(f,h),h&2&&w(s,1)):(s=vt(f),s.c(),w(s,1),s.m(t,n)):s&&(K(),F(s,1,1,()=>{s=null}),ee()),h&131){o=Array(f[0].pageCount);let m;for(m=0;m<o.length;m+=1){const T=gt(f,o,m);a[m]?(a[m].p(T,h),w(a[m],1)):(a[m]=Tt(T),a[m].c(),w(a[m],1),a[m].m(t,r))}for(K(),m=o.length;m<a.length;m+=1)u(m);ee()}f[1]+1<f[0].pageCount?c?(c.p(f,h),h&3&&w(c,1)):(c=Nt(f),c.c(),w(c,1),c.m(t,null)):c&&(K(),F(c,1,1,()=>{c=null}),ee())},i(f){if(!i){w(s);for(let h=0;h<o.length;h+=1)w(a[h]);w(c),i=!0}},o(f){F(s),a=a.filter(Boolean);for(let h=0;h<a.length;h+=1)F(a[h]);F(c),i=!1},d(f){f&&H(t),s&&s.d(),Ye(a,f),c&&c.d()}}}function vt(e){let t,n;return t=new tt({props:{page:e[1]-1,currentPage:e[1],buttonText:""}}),t.$on("set-current-page",e[7]),{c(){de(t.$$.fragment)},m(r,i){re(t,r,i),n=!0},p(r,i){const s={};i&2&&(s.page=r[1]-1),i&2&&(s.currentPage=r[1]),t.$set(s)},i(r){n||(w(t.$$.fragment,r),n=!0)},o(r){F(t.$$.fragment,r),n=!1},d(r){ie(t,r)}}}function Tt(e){let t,n;return t=new tt({props:{page:e[13],currentPage:e[1]}}),t.$on("set-current-page",e[7]),{c(){de(t.$$.fragment)},m(r,i){re(t,r,i),n=!0},p(r,i){const s={};i&2&&(s.currentPage=r[1]),t.$set(s)},i(r){n||(w(t.$$.fragment,r),n=!0)},o(r){F(t.$$.fragment,r),n=!1},d(r){ie(t,r)}}}function Nt(e){let t,n;return t=new tt({props:{page:e[1]+1,currentPage:e[1],buttonText:""}}),t.$on("set-current-page",e[7]),{c(){de(t.$$.fragment)},m(r,i){re(t,r,i),n=!0},p(r,i){const s={};i&2&&(s.page=r[1]+1),i&2&&(s.currentPage=r[1]),t.$set(s)},i(r){n||(w(t.$$.fragment,r),n=!0)},o(r){F(t.$$.fragment,r),n=!1},d(r){ie(t,r)}}}function $r(e){let t,n,r,i,s,o,a;return{c(){t=k("div"),t.textContent="Your Bundle",n=J(),r=k("div"),i=W("Add "),s=k("span"),o=W(e[5]),a=W(" item(s) to complete your bundle"),v(t,"class","selected-bundle-title svelte-givt8r"),v(s,"class","left-to-go svelte-givt8r"),v(r,"class","selected-bundle-status svelte-givt8r")},m(u,c){Y(u,t,c),Y(u,n,c),Y(u,r,c),O(r,i),O(r,s),O(s,o),O(r,a)},p(u,c){c&32&&_e(o,u[5])},i:R,o:R,d(u){u&&H(t),u&&H(n),u&&H(r)}}}function qr(e){let t,n;return t=new Lr({}),{c(){de(t.$$.fragment)},m(r,i){re(t,r,i),n=!0},p:R,i(r){n||(w(t.$$.fragment,r),n=!0)},o(r){F(t.$$.fragment,r),n=!1},d(r){ie(t,r)}}}function Vr(e){let t,n;return t=new kr({props:{bundleIndex:e[13]}}),{c(){de(t.$$.fragment)},m(r,i){re(t,r,i),n=!0},p:R,i(r){n||(w(t.$$.fragment,r),n=!0)},o(r){F(t.$$.fragment,r),n=!1},d(r){ie(t,r)}}}function At(e){let t,n,r;return{c(){t=k("div"),n=W("TOTAL: $"),r=W(e[6]),v(t,"class","running-total svelte-givt8r")},m(i,s){Y(i,t,s),O(t,n),O(t,r)},p(i,s){s&64&&_e(r,i[6])},d(i){i&&H(t)}}}function Hr(e){let t,n,r,i;const s=[jr,Mr],o=[];function a(u,c){return u[2]?0:1}return n=a(e),r=o[n]=s[n](e),{c(){t=k("div"),r.c(),v(t,"id","bundle-products-container"),v(t,"class","svelte-givt8r")},m(u,c){Y(u,t,c),o[n].m(t,null),i=!0},p(u,[c]){let f=n;n=a(u),n===f?o[n].p(u,c):(K(),F(o[f],1,1,()=>{o[f]=null}),ee(),r=o[n],r?r.p(u,c):(r=o[n]=s[n](u),r.c()),w(r,1),r.m(t,null))},i(u){i||(w(r),i=!0)},o(u){F(r),i=!1},d(u){u&&H(t),o[n].d()}}}function Gr(e,t,n){let r;Pe(e,te,y=>n(9,r=y));let i=!0,s=[],o=[],a=!1,u=Q.bundleCount,c,f=0,h=0;const m=y=>{n(1,f=y.detail.currentPage)},T=y=>y.reduce((L,N)=>L+N.price,0).toFixed(2);return Jt(async()=>{te.load();const y=await Ar(),E=new Or(y.products.edges);n(8,o=E.variants()),n(2,i=!1)}),e.$$.update=()=>{e.$$.dirty&771&&(n(4,a=r.length>=Q.bundleCount),n(5,u=Q.bundleCount-r.length),n(0,c=new Ir(o,f)),n(3,s=c.currentItems),n(6,h=T(r)))},[c,f,i,s,a,u,h,m,o,r]}class Yr extends Ne{constructor(t){super(),Te(this,t,Gr,Hr,fe,{})}}const zr=document.querySelector("#product-bundle-app");new Yr({target:zr});
//# sourceMappingURL=vite-productBundleMain.js.map
